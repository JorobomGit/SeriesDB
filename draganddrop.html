<!DOCTYPE html>
<html>
<meta charset="utf-8">
<title>Drag & Drop</title>
<style>
.drag {
    width: 100px;
    height: 100px;
    background: silver;
    margin-right: 10px;
    float: left;
}

#drop {
    width: 100%;
    height: 200px;
    background: linear-gradient(coral, gold);
    position: fixed;
    bottom: 0px;
    transition: background 250ms;
    font-size: 42px;
    color: green;
}

#drop.ok {
    background: teal;
}

#drop.error {
    background: plum;
}
</style>

<body>
    <div class="drag" draggable="true" data-movie-id="A">A</div>
    <div class="drag" draggable="true" data-movie-id="B">B</div>
    <div class="drag" draggable="true" data-movie-id="C">C</div>
    <div class="drag" draggable="true" data-movie-id="D">D</div>
    <div class="drag" draggable="true" data-movie-id="E">E</div>
    <div id="drop"></div>
    <script src="bower_components/jquery/dist/jquery.min.js"></script>
    <script>
    var draggedMovieId = null;
    //Un drag and drop lo que hace es transmitir informacion
    $(".drag").on("dragstart", function(evt) {
        console.log("DRAG START", evt);
        // ponemos el id de la pelicula seleccionada
        var movieId = $(this).data("movieId");
        draggedMovieId = movieId;
        evt.originalEvent.dataTransfer.setData("movieId", movieId);
    }).on("dragend", function(evt) {
        console.log("DRAG END", evt);
        draggedMovieId = null;
    });



    $("#drop").on("dragover", function(evt) {
        evt.preventDefault();
        console.log("DRAG ENTER", evt, draggedMovieId);
        if (draggedMovieId != "B")
            $(this).addClass("ok");
        else
            $(this).addClass("error");

    }).on("dragleave", function(evt) {
        evt.preventDefault();
        console.log("DRAG LEAVE", evt);
        $(this).removeClass("ok error");
    }).on('drop', function(evt) {
        evt.preventDefault();
        console.log("DROPPED", evt);
        
        var movieId = evt.originalEvent.dataTransfer.getData("movieId");
        if(movieId != "B"){
        	var text = $(this).text();
        	text += movieId;
        	$(this).text(text);
        }
        $(this).removeClass("ok error");
    });
    </script>
</body>

</html>
